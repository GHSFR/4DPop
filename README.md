<!-- MARKDOWN LINKS & IMAGES -->
[release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop?include_prereleases
[release-url]: https://github.com/vdelachaux/4DPop/releases/latest
[license-shield]: https://img.shields.io/github/license/vdelachaux/4DPop
[build-shield]: https://github.com/vdelachaux/4DPop/actions/workflows/build.yml/badge.svg
[build-url]: https://github.com/vdelachaux/4DPop/actions/workflows/build.yml

[AppMaker-url]: https://github.com/vdelachaux/4DPop-AppMaker
[AppMaker-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-AppMaker?include_prereleases
[AppMaker-release-url]: https://github.com/vdelachaux/4DPop-AppMaker/releases/latest
[AppMaker-build-shield]: https://github.com/vdelachaux/4DPop-AppMaker/actions/workflows/build.yml/badge.svg
[AppMaker-build-url]: https://github.com/vdelachaux/4DPop-AppMaker/actions/workflows/build.yml

[Bookmarks-url]: https://github.com/vdelachaux/4DPop-bookmarks
[Bookmarks-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-bookmarks?include_prereleases
[Bookmarks-release-url]: https://github.com/vdelachaux/4DPop-bookmarks/releases/latest
[Bookmarks-build-shield]: https://github.com/vdelachaux/4DPop-bookmarks/actions/workflows/build.yml/badge.svg
[Bookmarks-build-url]: https://github.com/vdelachaux/4DPop-bookmarks/actions/workflows/build.yml

[ColorChart-url]: https://github.com/vdelachaux/4DPop-ColorChart
[ColorChart-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-ColorChart?include_prereleases
[ColorChart-release-url]: https://github.com/vdelachaux/4DPop-ColorChart/releases/latest
[ColorChart-build-shield]: https://github.com/vdelachaux/4DPop-ColorChart/actions/workflows/build.yml/badge.svg
[ColorChart-build-url]: https://github.com/vdelachaux/4DPop-ColorChart/actions/workflows/build.yml

[Commands-url]: https://github.com/vdelachaux/4DPop-Commands
[Commands-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-Commands?include_prereleases
[Commands-release-url]: https://github.com/vdelachaux/4DPop-Commands/releases/latest
[Commands-build-shield]: https://github.com/vdelachaux/4DPop-Commands/actions/workflows/build.yml/badge.svg
[Commands-build-url]: https://github.com/vdelachaux/4DPop-Commands/actions/workflows/build.yml

[Constants-Editor-url]: https://github.com/vdelachaux/4DPop-Constants-Editor
[Constants-Editor-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-Constants-Editor?include_prereleases
[Constants-Editor-release-url]: https://github.com/vdelachaux/4DPop-Constants-Editor/releases/latest
[Constants-Editor-build-shield]: https://github.com/vdelachaux/4DPop-Constants-Editor/actions/workflows/build.yml/badge.svg
[Constants-Editor-build-url]: https://github.com/vdelachaux/4DPop-Constants-Editor/actions/workflows/build.yml

[Git-url]: https://github.com/vdelachaux/4DPop-Git
[Git-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-Git?include_prereleases
[Git-release-url]: https://github.com/vdelachaux/4DPop-Git/releases/latest
[Git-build-shield]: https://github.com/vdelachaux/4DPop-Git/actions/workflows/build.yml/badge.svg
[Git-build-url]: https://github.com/vdelachaux/4DPop-Git/actions/workflows/build.yml

[Image-Buddy-url]: https://github.com/vdelachaux/4DPop-Image-Buddy
[Image-Buddy-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-Image-Buddy?include_prereleases
[Image-Buddy-release-url]: https://github.com/vdelachaux/4DPop-Image-Buddy/releases/latest
[Image-Buddy-build-shield]: https://github.com/vdelachaux/4DPop-Image-Buddy/actions/workflows/build.yml/badge.svg
[Image-Buddy-build-url]: https://github.com/vdelachaux/4DPop-Image-Buddy/actions/workflows/build.yml

[KeepIt-url]: https://github.com/vdelachaux/4DPop-KeepIt
[KeepIt-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-KeepIt?include_prereleases
[KeepIt-release-url]: https://github.com/vdelachaux/4DPop-KeepIt/releases/latest
[KeepIt-build-shield]: https://github.com/vdelachaux/4DPop-KeepIt/actions/workflows/build.yml/badge.svg
[KeepIt-build-url]: https://github.com/vdelachaux/4DPop-KeepIt/actions/workflows/build.yml

[Macros-url]: https://github.com/vdelachaux/4DPop-Macros
[Macros-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-Macros?include_prereleases
[Macros-release-url]: https://github.com/vdelachaux/4DPop-Macros/releases/latest
[Macros-build-shield]: https://github.com/vdelachaux/4DPop-Macros/actions/workflows/build.yml/badge.svg
[Macros-build-url]: https://github.com/vdelachaux/4DPop-Macros/actions/workflows/build.yml

[Pasteboard-url]: https://github.com/vdelachaux/4DPop-Pasteboard
[Pasteboard-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-Pasteboard?include_prereleases
[Pasteboard-release-url]: https://github.com/vdelachaux/4DPop-Pasteboard/releases/latest
[Pasteboard-build-shield]: https://github.com/vdelachaux/4DPop-Pasteboard/actions/workflows/build.yml/badge.svg
[Pasteboard-build-url]: https://github.com/vdelachaux/4DPop-Pasteboard/actions/workflows/build.yml

[QuickOpen-url]: https://github.com/vdelachaux/4DPop-QuickOpen
[QuickOpen-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-QuickOpen?include_prereleases
[QuickOpen-release-url]: https://github.com/vdelachaux/4DPop-QuickOpen/releases/latest
[QuickOpen-build-shield]: https://github.com/vdelachaux/4DPop-QuickOpen/actions/workflows/build.yml/badge.svg
[QuickOpen-build-url]: https://github.com/vdelachaux/4DPop-QuickOpen/actions/workflows/build.yml

[Rulers-url]: https://github.com/vdelachaux/4DPop-Rulers
[Rulers-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-Rulers?include_prereleases
[Rulers-release-url]: https://github.com/vdelachaux/4DPop-Rulers/releases/latest
[Rulers-build-shield]: https://github.com/vdelachaux/4DPop-Rulers/actions/workflows/build.yml/badge.svg
[Rulers-build-url]: https://github.com/vdelachaux/4DPop-Rulers/actions/workflows/build.yml

[sqlSchemas-url]: https://github.com/vdelachaux/4DPop-sqlSchemas
[sqlSchemas-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-sqlSchemas?include_prereleases
[sqlSchemas-release-url]: https://github.com/vdelachaux/4DPop-sqlSchemas/releases/latest
[sqlSchemas-build-shield]: https://github.com/vdelachaux/4DPop-sqlSchemas/actions/workflows/build.yml/badge.svg
[sqlSchemas-build-url]: https://github.com/vdelachaux/4DPop-sqlSchemas/actions/workflows/build.yml

[Window-url]: https://github.com/vdelachaux/4DPop-Window
[Window-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-Window?include_prereleases
[Window-release-url]: https://github.com/vdelachaux/4DPop-Window/releases/latest
[Window-build-shield]: https://github.com/vdelachaux/4DPop-Window/actions/workflows/build.yml/badge.svg
[Window-build-url]: https://github.com/vdelachaux/4DPop-Window/actions/workflows/build.yml

[XLIFF-Pro-url]: https://github.com/vdelachaux/4DPop-XLIFF-Pro
[XLIFF-Pro-release-shield]: https://img.shields.io/github/v/release/vdelachaux/4DPop-XLIFF-Pro?include_prereleases
[XLIFF-Pro-release-url]: https://github.com/vdelachaux/4DPop-XLIFF-Pro/releases/latest
[XLIFF-Pro-build-shield]: https://github.com/vdelachaux/4DPop-XLIFF-Pro/actions/workflows/build.yml/badge.svg
[XLIFF-Pro-build-url]: https://github.com/vdelachaux/4DPop-XLIFF-Pro/actions/workflows/build.yml

[strip]:./assets/4DPop.png
[settings]:./assets/settings.png

<!--BADGES-->
![Static Badge](https://img.shields.io/badge/Dev%20Component-blue?logo=4d&link=https%3A%2F%2Fdeveloper.4d.com)
![Static Badge](https://img.shields.io/badge/Project%20Dependencies-blue?logo=4d&link=https%3A%2F%2Fdeveloper.4d.com%2Fdocs%2FProject%2Fcomponents%2F%23loading-components)
<br>
[![release][release-shield]][release-url]
[![license][license-shield]](LICENSE)
<img src="https://img.shields.io/github/downloads/vdelachaux/4DPop/total"/>

# <a name="overview">Overview</a>

`4DPop` is a series of productivity components grouped into a toolbar that integrates perfectly with the 4D development environment. 

![strip]

[4D TN Spotlight](https://vimeo.com/3750045)

`4DPop.4dbase` is the container component that handles loading and provides an interface to compatible components.

Filled with clever tools and immediately useful for developers, `4DPop` has many advantages:

#### _A Mind for Productivity_
Every `4DPop` component is a handy little nugget you’ll wonder how you ever did without. Created by 4D developers for 4D developers, they’ll help you save precious time on repetitive operations, be the little helpers you always dreamt of having, and put an even friendlier face on your development environment.

#### _Easy to Use_
Installing a new component is easy: Just drag and drop on to the 4DPop toolbar! Each comes with its own online help.

#### _Modular_
You can compose your `4DPop` strip à la carte with the tools you prefer, without overloading your screen. 

#### _Free_
`4DPop` and its components are free to use and distribute in all 4D development environments.

#### _Source Code Provided_
Like all 4D components, `4DPop` tools are miniature 4D projects delivered to you compiled for your immediate use, but also in interpreted mode, so that you can explore the source code. You may wonder how rules are created in `4DPop Rulers`, for example, or how `4DPop Commands` manages predictive typing, or how to manage a strip, a help file or to create a component. It’s all there in the code. 4DPop’s code is also a very good example of the art of programming efficiently in 4D... even if we do say so ourselves!

#### _Open_
You can enhance `4DPop` with [your own components](#how-to), and you are also able to share them, and [find others in the 4D developer community](https://github.com/topics/4dpop).

# <a name="collection">The complete collection</a>

| Repository| Last release | Build status | 
|:------:|--------------|--------------|
|**4DPop**|[![release][release-shield]][release-url]|[![release][build-shield]][build-url]
|[**AppMaker**][AppMaker-url]|[![release][AppMaker-release-shield]][AppMaker-release-url]|[![release][AppMaker-build-shield]][AppMaker-build-url]
|[**Bookmarks**][Bookmarks-url]|[![release][Bookmarks-release-shield]][Bookmarks-release-url]|[![release][Bookmarks-build-shield]][Bookmarks-build-url]
|[**ColorChart**][ColorChart-url]|[![release][ColorChart-release-shield]][ColorChart-release-url]|[![release][ColorChart-build-shield]][ColorChart-build-url]
|[**Commands**][Commands-url]|[![release][Commands-release-shield]][Commands-release-url]|[![release][Commands-build-shield]][Commands-build-url]
|[**Constants Editor**][Constants-Editor-url]|[![release][Constants-Editor-release-shield]][Constants-Editor-release-url]|[![release][Constants-Editor-build-shield]][Constants-Editor-build-url]
|[**Git**][Git-url]|[![release][Git-release-shield]][Git-release-url]|[![release][Git-build-shield]][Git-build-url]
|[**Image buddy**][Image-Buddy-url]|[![release][Image-Buddy-release-shield]][Image-Buddy-release-url]|[![release][Image-Buddy-build-shield]][Image-Buddy-build-url]
|[**KeepIt**][KeepIt-url]|[![release][KeepIt-release-shield]][KeepIt-release-url]|[![release][KeepIt-build-shield]][KeepIt-build-url]
|[**Macros**][Macros-url]|[![release][Macros-release-shield]][Macros-release-url]|[![release][Macros-build-shield]][Macros-build-url]
|[**Pasteboard**][Pasteboard-url]|[![release][Pasteboard-release-shield]][Pasteboard-release-url]|[![release][Pasteboard-build-shield]][Pasteboard-build-url]
|[**QuickOpen**][QuickOpen-url]|[![release][QuickOpen-release-shield]][QuickOpen-release-url]|[![release][QuickOpen-build-shield]][QuickOpen-build-url]
|[**Rulers**][Rulers-url]|[![release][Rulers-release-shield]][Rulers-release-url]|[![release][Rulers-build-shield]][Rulers-build-url]
|[**sqlSchemas**][sqlSchemas-url]|[![release][sqlSchemas-release-shield]][sqlSchemas-release-url]|[![release][sqlSchemas-build-shield]][sqlSchemas-build-url]
|[**Window**][Window-url]|[![release][Window-release-shield]][Window-release-url]|[![release][Window-build-shield]][Window-build-url]
|[**XLIFF-Pro**][XLIFF-Pro-url]|[![release][XLIFF-Pro-release-shield]][XLIFF-Pro-release-url]|[![release][XLIFF-Pro-build-shield]][XLIFF-Pro-build-url]

>  📌 Click on a component name in the "Repository" column above to access its repository, where the source code is available.
>     
>  📌 Click on the `Release` tag of each component above to access its latest revision.


# <a name="installation">Installation</a>

* At least the `4DPop` component.
* One or more components from the collection
* **Don't forget** to open your database structure settings dialog and go to the `Security` page to enable, if necessary, the `Execute the "On host database event" method of the component` option.


## 4D 20R6+ - Project mode

All the components in the 4DPop collection are compatible with the project's dependency manager. 

You can download a pre-configured `dependencies.json` file for the complete collection [**here**](./dependencies.json) and place it in the `Sources` folder of your project.

>📍The project's dependency manager ensures that you are always using the latest available version of the components.
>
>📍No more notarisation problems with this installation method!

## Earlier versions of 4D or binary database

1. Create a `Components` folder next to the `Project` folder of your database \*.
2. Place the `4DPop.4dbase` component \** in the `Components` folder.
3. Place one or more `4DPop components` you want to use in the same folder. 
3. Open your database.
4. Open the structure settings dialog and go to the `Security` page to activate, if any, the option `Execute "On Host Database Event" Method of the component`
5. Reopen the database, the strip is displayed in the lower left corner of the screen in Design mode.

	\* For a binary database, the `Components` folder must be located next to the structure file of your database (".4db").    
	\** On `macOS`, the component is a package whose ".4dbase" extension is not necessarily visible depending on your display preference settings.

>📍It is always preferable to use an alias file (macOS) or shortcut file (Windows) instead of the component and thus store the originals in a single copy. Updates will be simplified especially if you maintain several projects. 

# <a name="settings">Settings</a>

The settings dialog is available in the menu associated with the cog wheel located in the title bar of the strip.   

![settings] 

In this dialogue, you can :

* Define the position of the strip by clicking on the desired corner.
* Choose whether the strip should expand/contract automatically.
* Define the order of the components, either by name or by using your own drag-and-drop arrangement of icons.

# <a name="deployment">Deployment</a>

When you build your application, do not include the `4DPop` components (which, by definition, are not useful to the end user) so as not to increase the size of your executable. To do this, uncheck the `4DPop` components in the `Plugins & components` page of the `Build Application` dialog. 


# <a name="compatible-components">Compatible Components</a>

Some developers provide tools that are displayed in the 4DPop strip. You can access the [list of compatible components](https://github.com/topics/4dpop) referenced on Github (with the `4dpop` topic). 

| Here are the ones I know:  | | | | |
|:----:|:----:|:----:|:----:|:----:|
|[**4D SVG**\*](https://doc.4d.com/4Dv18/4D/18/4D-SVG-Component.100-4611717.en.html)|[**4D JSON Validator**](https://github.com/AdrienCagniant/4DPop-JSON-Validator)|[**chromo4D**](https://forums.4d.com/Post/EN/1576084/1/1576085#1576085)|[**RegexLab**](https://github.com/AJARProject/AJ_Tools_Regex)|[**Math4D**](https://forums.4d.com/Post/EN/31847250/1/31847251#31847251)|
|[**ogResources Buddy**](https://www.protee.org/index.php/en/download-en/4d-free-bonus)|[**QS_Toolbox**](https://association-qualisoft.eu/qs_toolbox-description/)|

\*Embedded into the 4D application

**It will be very appreciated if you publish your component on Github and don't forget to [link your project with the 4DPop topic](#topic).**

# <a name="how-to">How to make a component compatible with 4DPop?</a>

The compatibility of a component with the 4DPop strip is based on the presence of a manifest file in its ‘Resources’ folder.
The name of the manifest must be `4DPop.json` and as you can guess, it is a json file.
The manifest describes the elements of the component that will be available via its icon in the 4DPop strip. Here is a sample:

```json
{
  "name": "Dev tool",
  "media": "devTool.png",
  "handler": "_4DPopDevTool",
  "default": "run", 
  "tools": [
    {
      "name": ":xliff:DevTool_run",
      "method": "run"
    },
    {
      "name": "-"
    },
    {
      "name": ":xliff:DevTool_parameters",
      "method": "settings"
    }
  ]
}
```

| Attributes |   |   ||
|---- | ----| ----| ----|
| `name` | The name that will be displayed below the button | ① | Mandatory
| `media` | File name of the image used for the button. |⑦| If omitted a default picture is used
| `handler` | The name of the ‘entry point’ method for your component. <br>I suggest that this name starts with an underscore (`_`) to avoid it interfering with the type ahead, as it is shared. | ② | Mandatory
| `default` | The name of the method to be executed when the user clicks on the strip's button | ③ ④ ⑤| Optional if `tools`is defined
| `tools` | Collection of [tool objects](#tool) that will be displayed as a linked menu  | ④ ⑥
| `popup` | To force the display of a linked menu indicator even if there is only one tool  | ④
|  `ondrop` | The name of the method to be executed at the time of a drop on the button | ③
| `helptip` | Text of help tip associated with button

### <a name="tool">tool object</a>

| Attributes |   |   ||
|---- | ----| ----| ----|
| `name` | Name of the tool as it will appear in the menu associated with the button | ① ④ | Mandatory if there are several `tool`<br>• pass "-" to display a separator line
| `method` | The name of the method to run when the item is selected | ③ | Mandatory
----
> ① The `name` & `helptip` attributes accepts the syntax ‘ :xliff :resname’, so the string must be defined in the component's xliff files, and the string displayed will be localized.    

> ② You must check the `Shared by component and host project` property. The method code must be:

```4d
#DECLARE() : 4D.Function
>return Formula(Formula from string($1))
```

> ③ The methods called receive an object as a parameter (for future use). If you plan to compile the component, this parameter must be declared explicitly `#DECLARE($data: Object)` in all the methods of the component called. It is not necessary to declare the method as shared.

> ④ If there is only one `tool`, the method is executed as soon as the button is clicked. If there are several `tool`, a menu arrow linked with the button is displayed and a menu listing the available tools is provided for the user. 

> ⑤ The component method may be responsible for constructing and displaying the menu. In this case, set the `default` attribute to the name of the method whose code displays the menu and processes the user's choice. For the menu arrow to be displayed on your tool's button, you need to specify ‘True’ in the `popup` attribute.

> ⑥ In case of the default attribute is defined, a simple clic launches the `default` method and a long click or an on arrow click display the tools' menu.
> 
> ⑦  You must provide an image of 512x512 pixels, 4DPop builds the various icons needed to display in the strip, the settings or the About dialog.

# <a name="topic">Topic 4DPop</a>

If you develop a [component compatible with 4DPop](#how-to), it is strongly recommended to add the "4DPop" [topic](https://docs.github.com/en/github/administering-a-repository/managing-repository-settings/classifying-your-repository-with-topics) to be referenced in the [list of 4DPop compatible components](https://github.com/topics/4dpop).

# <a name="improvments">Improvements and bug fixes</a>

If you encountered a bug or have a feature request, feel free to create an issue.
However, it is highly appreciated if you <a href="https://github.com/vdelachaux/4DPop/issues" target="_blank">browse and search current issues</a> first.
Found the issue? Go on and join its discussion thread.
Not found? Go on and <a href="https://github.com/vdelachaux/4DPop/issues/new" target="_blank">create one</a>.

I strongly recommend that you create a [clone of this repository](https://docs.github.com/en/repositories/creating-and-managing-repositories/cloning-a-repository) and do a [pull-request](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests) for your improvements and bug fixes.
